name: CI

on:
    push:
        branches: [ "master" ]
    pull_request:
        branches: [ "master" ]

jobs:
    build:
        runs-on: windows-latest
        steps:
        - uses: actions/checkout@v3
        - name: Cache
          uses: actions/cache@v2
          with:
            path: |
                ~/.cargo/registry
                ~/.cargo/git
                target
            key: ${{ runner.os }}-cargo-${{ hashFiles('**/Cargo.lock') }}
        - name: Build
          run: cargo build --verbose